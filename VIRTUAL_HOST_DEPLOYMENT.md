# 阿里云虚拟主机部署指南（保留原网站，部署新网站）

## 🎯 重要说明
您使用的是阿里云虚拟主机产品，不是ECS云服务器。虚拟主机的部署方式与ECS完全不同：

**虚拟主机特点：**
- ❌ **不支持SSH登录**（无法使用命令行）
- ❌ **不支持Node.js运行时**
- ✅ **支持静态HTML网站**
- ✅ **支持FTP文件上传**
- ✅ **自动运行网站**

**部署策略：保留原网站，部署新网站到子目录**

## ✅ 第一步：静态版本已成功构建并修复API兼容性问题

您的Next.js应用已经构建为静态HTML文件，**已解决动态API功能导致的静态导出错误**。

### 问题修复说明
- **原问题**：页面使用`fetch`调用动态API（`/api/test`和`/api/another-test`），导致静态导出失败
- **解决方案**：已将动态API调用替换为静态模拟响应，确保完全兼容虚拟主机环境
- **当前状态**：应用已完全静态化，可在虚拟主机上正常运行

静态文件位于：`/Users/jian-zhiwang/15.AI（2601）/9AI编程/网站/app/out/`

这个目录包含完整的静态网站文件。

## 📋 第二步：上传新网站到子目录

### 方法A：使用FTP客户端（推荐）
1. **下载FileZilla**：https://filezilla-project.org/
2. **配置FTP连接**：
   - 主机：`47.98.49.28`
   - 端口：`21`
   - 用户名：`wh-ns2qk7g9bluizy0ffx2`
   - 密码：`dadao123456#`
3. **连接后上传**：
   - 在服务器的 `/htdocs` 目录下创建一个新文件夹，例如：`new-site`
   - 将 `app/out/` 目录下的**所有文件**上传到这个新文件夹
   - 上传后的路径：`/htdocs/new-site/`

### 方法B：使用控制台文件管理
1. **登录阿里云控制台**：https://hosting.console.aliyun.com
2. **找到虚拟主机管理**：在左侧菜单找到"云虚拟主机"
3. **进入文件管理**：找到"文件管理"或"在线文件管理"功能
4. **创建文件夹并上传**：
   - 进入 `/htdocs` 目录
   - 创建新文件夹：`new-site`
   - 进入 `new-site` 文件夹
   - 上传 `app/out/` 目录下的所有文件

## 🚀 第三步：访问新网站

1. **访问新网站**：http://您的域名.com/new-site/
2. **访问原网站**：http://您的域名.com/（保持不变）
3. **检查网站显示**：应该看到您的新Next.js应用正常显示

## 🔧 常见问题解决

### ❌ 问题1：新网站无法访问
- 检查文件夹路径是否正确
- 确保所有文件都上传到 `new-site` 目录
- 检查URL路径是否正确：`域名.com/new-site/`

### ❌ 问题2：FTP连接失败
- 确认FTP信息正确
- 检查防火墙设置
- 联系阿里云技术支持：400-801-8080

### ❌ 问题3：页面样式错乱
- 确保CSS和JS文件正确上传
- 检查文件路径是否正确

## 📞 联系方式
- **阿里云技术支持**：400-801-8080
- **在线客服**：控制台右下角"联系客服"

## 💡 重要提示
- **原网站保持不变**：原 `index.html` 文件继续在根目录运行
- **新网站独立运行**：新网站在 `new-site` 子目录运行
- **虚拟主机不支持动态API**：动态API功能（如 `/api/test`）无法使用
- **两个网站共存**：可以通过不同URL访问两个独立的网站